!function(){var t={manual:1};window.page=t,t.translateajaxs=[],t.seed=Math.ceil(100*Math.random()),t.rstart=1,t.currVideos=[];var o="",s="";t.favoredWords={rows:[],rstart:1,rcount:50,currRows:[]},t.historyWords={rows:[],rstart:1,rcount:50,currRows:[]},t.wordbooks={rows:[],rstart:1,rcount:50,currRows:[],selected:null},pagePre.loginTime&&(new Date).getTime()-pagePre.loginTime>864e5&&$.ajax({url:"/mumu/login-refresh",async:!0,success:function(t){0==t.code&&(pagePre.login=t.data,localStorage.setItem(config.project+"-login",JSON.stringify(pagePre.login)),localStorage.setItem(config.project+"-loginTime",(new Date).getTime()))}}),setTimeout((function(){$("#logo").hide(),$("#index").show(),$("#finger").animate({left:"+=150px"},2e3,(function(){$("#finger").animate({left:"-=300px"},2e3,(()=>{$("#finger").fadeOut(500)}))})),$("#gear").animate({left:"+=150px"},2e3,(function(){$("#gear").animate({left:"-=300px"},2e3)}))}),1e3);var n=0;$("#video")[0].crossOrigin="anonymous",document.addEventListener("WeixinJSBridgeReady",(function(){$("#video")[0].play()}),!1);var i,a,r=window.location.search.substring(1).split("&")[0].split("=")[1],d=null,c=[],u=-1;r&&$.ajax({url:"/mumu/video?",ajaxCache:!0,data:"videoNo="+r,async:!1,success:function(t){i=d=t.data.video}}),$.ajax({url:"/mumu/explore-videos?",data:"shortvideo=1&kw="+o+"&pageSize=5&tag="+s+"&seed="+t.seed+"&rstart="+t.rstart,async:!1,success:function(e){c.push(...e.data.videos),localStorage.setItem(config.project+"-videos",JSON.stringify(c)),t.currVideos=e.data.videos,d&&c.unshift(d)}});var l=localStorage.getItem(config.project+"-currentTime-"+a),h=parseInt(localStorage.getItem(config.project+"-currentIndex-"+a)),f=JSON.parse(localStorage.getItem(config.project+"-currentCaption-"+a)),m=f,p=0,g=0,v={subtitles:"",monitor:"",subtitlesList:[],current:f,currentIndex:h};t.en=v;P=P;var w=$("#video")[0];function b(){X(),Y(),c[u+1]||$.ajax({url:"/mumu/explore-videos?",data:"shortvideo=1&kw="+o+"&pageSize=5&tag="+s+"&seed="+t.seed+"&rstart="+(t.rstart+t.currVideos.length),async:!1,success:function(e){e.data.videos.length>0?(c.push(...e.data.videos),t.rstart=t.rstart+t.currVideos.length,t.currVideos=e.data.videos,localStorage.setItem(config.project+"-videos",JSON.stringify(c))):(t.seed=Math.ceil(100*Math.random()),$.ajax({url:"/mumu/explore-videos?",data:"shortvideo=1&kw="+o+"&pageSize=5&tag="+s+"&seed="+t.seed+"&rstart=1",async:!0,success:function(e){t.currVideos=e.data.videos,c=[],u=-1,t.rstart=1,c.push(...e.data.videos),localStorage.setItem(config.project+"-videos",JSON.stringify(c)),b()}}))}}),c[u+1]&&(u++,a=c[u].no,i=c[u],localStorage.setItem(config.project+"-videosIndex",u),k(i),c[u+1]&&$("#video1").attr("poster",c[u+1].cover),c[u-1]&&$("#video2").attr("poster",c[u-1].cover))}function x(){X(),Y(),c[u-1]?(u--,a=c[u].no,i=c[u],localStorage.setItem(config.project+"-videosIndex",u),k(i)):location.replace("./index.html")}function k(e){i=e,a=e.no,U=location.origin+"/mumu?videoNo="+a,wx.updateAppMessageShareData({title:i.name,desc:"幕幕 - 短视频练英语\n"+(i.chname||" "),link:U,imgUrl:location.origin+"/mumu/favicon.ico",success:function(){}}),wx.updateTimelineShareData({title:i.name+"\n幕幕 - 短视频练英语",link:U,imgUrl:location.origin+"/mumu/favicon.ico",success:function(){}}),$("#zh_subtitles").html(""),$("#titleinback").text(i.name),$("#titleinbackpad").show(),$("#video").attr("poster",i.cover),m=null,v.currentIndex=0,$.ajax({url:i.captionUrl,type:"get",async:!1,success:function(t){!function(t){v.subtitlesList=[];let e=[];e=t.split(/[(\r\n)\r\n]+/),e.forEach(((t,o)=>{if(t||e.splice(o,1),new RegExp(/^(20|21|22|23|[0-1]\d):[0-5]\d:[0-5]\d/).test(t)){var s=e[o+2],n=e[o+1];if(s.indexOf("{\\pos")>=0||n.indexOf("{\\pos")>=0)return;v.subtitlesList.push({startTime:V(t.split(" --\x3e ")[0].replace(",",".")),endTime:V(t.split(" --\x3e ")[1].replace(",",".")),chValue:n,enValue:s})}}));for(let t=0;t<v.subtitlesList.length;t++){t;const e=v.subtitlesList[t],o=v.subtitlesList[t+1];t<v.subtitlesList.length-2&&o.startTime-e.endTime>1e3&&v.subtitlesList.splice(t+1,0,{startTime:parseInt(e.endTime)+1e3,endTime:o.startTime,chValue:"",enValue:""})}var o=v.subtitlesList[0];o&&o.startTime>0&&v.subtitlesList.splice(0,0,{startTime:0,endTime:o.startTime,chValue:"",enValue:""});var s=v.subtitlesList[v.subtitlesList.length-1];s&&v.subtitlesList.push({startTime:parseInt(s.endTime)+1e3,endTime:1e3*i.duration,chValue:"",enValue:""});v.currentIndex>=0?(v.current=v.subtitlesList[v.currentIndex],P(v.current)):P(v.subtitlesList[0])}(t)}}),clearTimeout(t.addHistoryTimeout),t.addHistoryTimeout=setTimeout((function(){var t=JSON.parse(localStorage.getItem(config.project+"-historyvideos"));t||(t=[]);for(var e=0;e<t.length;e++)t[e].no==i.no&&t.splice(e,1);t.unshift(i),localStorage.setItem(config.project+"-historyvideos",JSON.stringify(t))}),5e3),function(){if($("#video").attr("src",i.url),localStorage.getItem(config.project+"-translateed"))$("#video").css("top","0"),$("#video").attr("autoplay",!0),B();else{$("#hintssec").text(3),X(),$("#video").css("top","-1000px"),$("#hints").show(),setTimeout((function(){$("#hints").fadeOut(1e3,(function(){$("#video").css("top","0"),B()}))}),3e3);var t=setInterval((function(){var e=$("#hintssec").text()-1;e<1?clearInterval(t):$("#hintssec").text(e)}),1e3)}}()}function y(){p||l&&($("#video")[0].currentTime=l,$("#video")[0].currentTime>=l&&(p=1))}function T(){!function(){if(!g){if(0==l)return void(g=1);l&&($("#video")[0].currentTime=l,$("#video")[0].currentTime>=l&&(g=1))}}(),w.paused&&I(1e3*w.currentTime)}function I(e){if($("#loading").hide(),localStorage.setItem(config.project+"-durationsec-"+a,$("#video")[0].duration),localStorage.setItem(config.project+"-currentTime-"+a,$("#video")[0].currentTime),m){if(!(m.startTime<e))return;m=null}if(!(v.current&&v.current.startTime<=e&&e<v.current.endTime)){var o=v.subtitlesList[v.currentIndex+1];if(o&&o.startTime<=e&&e<o.endTime)return t.diandu&&X(),n?void N():(v.current=o,v.currentIndex++,void P(o));o&&e<o.startTime&&(!v.current||e>v.current.endTime)||$(v.subtitlesList).each((function(t,o){if(o.startTime<=e&&e<o.endTime){debugger;return v.current=o,v.currentIndex=t,void P(o)}}))}}function P(t){if(!t)return;localStorage.setItem(config.project+"-currentCaption-"+a,JSON.stringify(t)),localStorage.setItem(config.project+"-currentIndex-"+a,v.currentIndex);let e=t.enValue.split(" ");$("#zh_subtitles").html(""),v.currentwords=e;for(let t=0;t<e.length;t++)if("\\n"!=e[t]){var o=e[t].split("\\n");if(o[0]){var s=$('<span style="border-bottom:2px solid #ffffff;;user-select: none;display: inline-block;cursor: pointer;font-weight: 900;font-size: 18px;padding-left:3px;padding-right:3px;box-size:bo" index="'+t+'" class="font span'+t+'">'+o[0]+"</span>");s.bind("mouseout",(function(){isPc()&&$(this).css("border-bottom","2px solid #ffffff")})).bind("mouseover",(function(){isPc()&&$(this).css("border-bottom","2px solid black")})),$("#zh_subtitles").append(s)}o[1]&&e.splice(t+1,0,"\\n",o[1]),o[2]&&e.splice(t+3,0,"\\n",o[2]),o[3]&&e.splice(t+5,0,"\\n",o[3])}else $("#zh_subtitles").append("<br/>");$("#chDialog").html(t.chValue.replace(/\\n/g,"<br/>")),$(".dialog").css({display:"none"}),$(".dialogTitle #kw").html(""),z=0,$(".dialog").css({display:"none"}),$(".dialogTitle #kw").html(""),$("#summtrans").hide(),$("#wordsframe").hide(),$("#word-in").val(""),$("#video").css("top","0px")}function S(){if(v.currentIndex>0){var t=v.currentIndex,e=v.subtitlesList[--t];e&&(e.enValue||(e=v.subtitlesList[--t]),e&&(v.currentIndex=t,v.current=e,m=e,l=e.startTime/1e3,$("#video")[0].currentTime=e.startTime/1e3,log.debug("set st: "+e.startTime/1e3+" ct: "+$("#video")[0].currentTime+" - "+v.current.enValue.substr(0,10)),P(e),z=0,$(".dialog").css({display:"none"}),$(".dialogTitle #kw").html("")))}}function W(){n?(n=0,$("#loopLine").css("background-color","#ffffff")):(n=1,$("#loopLine").css("background-color","#ffcc79"))}function Y(){n=0,$("#loopLine").css("background-color","#ffffff")}function N(){var t=v.currentIndex,e=v.current;e&&(e.enValue||(e=v.subtitlesList[--t]),e&&(v.currentIndex=t,v.current=e,$("#video")[0].currentTime=e.startTime/1e3,m=e,l=e.startTime/1e3,P(e),z=0,$(".dialog").css({display:"none"}),$(".dialogTitle #kw").html("")))}function j(){var t=v.currentIndex,e=v.subtitlesList[++t];e&&(e.enValue||(e=v.subtitlesList[++t]),e&&(v.currentIndex=t,v.current=e,m=e,l=e.startTime/1e3,$("#video")[0].currentTime=e.startTime/1e3,P(e),z=0,$(".dialog").css({display:"none"}),$(".dialogTitle #kw").html("")))}function F(t){return t?t.replace(/^(\s|:|-|,|\.|\?|!|\[|\]\(|\))+/,"").replace(/(\s|:|-|,|\.|\?|!|\[|\]\(|\))+$/,"").toLowerCase():""}function D(e){$("#summrest").hide(),t.dovideoshadow=1,X(),R(),e=F(e),$("#summtrans").show(),$("#summtrans-word").text(e),$("#word-in").val(e),clearTimeout(window.timeoutdo1),window.timeoutdo1=setTimeout((function(){if($("#favor").attr("word",e),window.aaa=setTimeout((function(){$("#summtrans-phonetic").hide(),$("#summtrans-speak").hide(),$("#summtrans-value").hide()}),500),null==e||null==e||!e.toString().trim())return $("#summtrans-phonetic").hide(),$("#summtrans-speak").hide(),void $("#summtrans-value").hide();for(const e of t.translateajaxs)e.abort();t.translateajaxs.push($.ajax({url:"/mumu/translate?from="+i.language+"&to=2&q="+e,ajaxCache:{timeout:2592e3},async:!0,success:function(t){var e=!1;clearTimeout(window.aaa),t.data.phonetic?$("#summtrans-phonetic").text("/"+t.data.phonetic+"/").show():$("#summtrans-phonetic").hide(),t.data.speakUrl?$("#summtrans-speak").attr("play-url",t.data.speakUrl).show():$("#summtrans-speak").hide(),$("#summtrans-vv").html("").scrollTop(0),t.data.explains&&$(t.data.explains).each((function(t,o){e=!0,$("#summtrans-vv").append(`<div>${E(o)}</div>`)})),t.data.wfs&&$("#summtrans-vv").append(`<div style="margin-top:10px">${E(t.data.wfs)}</div>`),t.data.webs&&($("#summtrans-vv").append('<div style="margin-top:10px;">网络释义: </div>'),$(t.data.webs).each((function(t,o){e=!0,$("#summtrans-vv").append(`<div>${E(o)}</div>`)}))),!e&&t.data.translations&&$(t.data.translations).each((function(t,e){$("#summtrans-vv").append(`<div>${E(e)}</div>`)})),$(".lightkeytrans").bind("click",(function(){D(this.innerText),q.send(JSON.stringify({action:6,word:F(this.innerText)}))})),$("#wordsframe").hide(),$("#summrest").show(),$("#summtrans-vv").show(),$("#summtrans-value").show(),$("#summtrans").show(),$("#video").css("top","-1000px");var o=localStorage.getItem(config.project+"-totaltranslatesno");o=o||0,o++,localStorage.setItem(config.project+"-totaltranslatesno",o),$("#summtrans-speak").click();var s=localStorage.getItem(config.project+"-translateed");(s=parseInt(s?++s:1))>=4&&(q.send(JSON.stringify({action:3,words:3})),s=1),localStorage.setItem(config.project+"-translateed",s)}}))}),200)}function X(){$("#video")[0].pause()}function B(){$("#video")[0].play(),clearTimeout(window.timeoutdo1)}function O(){clearInterval(v.monitor),$(".stopFn").css({display:"none"}),$(".startFn").css({display:"inline"}),$("#video")[0].currentTime==$("#video")[0].duration&&setTimeout((function(){b()}),1e3),R()}function R(){if(t.dovideoshadow&&$("#videoshasow").is(":hidden")){var e=videocapture($("#video")[0]);$("#videoshasowimg").attr("src",e.src),e.src||$("#videoshasowimg").css("background-color","#000000"),$("#videoshasow").show(),$("#video").css("top","-1000px")}}function V(t){let e=t.split(":"),o=0;return e.forEach(((t,e)=>{switch(e){case 0:o+=60*parseFloat(t)*60*1e3;break;case 1:o+=60*parseFloat(t)*1e3;break;case 2:o+=1e3*parseFloat(t);break}})),o}f&&P(f),$("#historyword_template").bind("click",(function(e){log.info("$(#historyword_template).click "+$(this).attr("data")),t.dovideoshadow=1,X(),G(this.innerText),D(this.innerText),$(".historyword").css("background-color","#ffffff"),$(this).css("background-color","#e7e7e7")})),b(),$(".yibiao").on("click","span svg",(function(){log.info("$(.yibiao).click"),new Audio($(this).attr("playsrc")).play()})),$("#loopLine").click(W),$("#favor").click((function(){log.info("#favor.click");var t=F($(this).attr("word"));q.send(JSON.stringify({action:4,word:t}))})),t.dovideoshadow=0;var L,z=0,J=[];function _(e){if(z=e,$(".font").css({background:"transparent"}),$(".font.span"+(z-1)).css({background:"#d2cbcb"}),t.dovideoshadow=1,X(),$("#summtrans-word").show(),z>0){$("#wordsframe").hide();var o=v.currentwords[z-1];D(o),q.send(JSON.stringify({action:6,word:F(o)}))}}function C(){var e=F($("#word-in").val());document.activeElement==$("#word-in")[0]?($("#wordsframe").hide(),G(e),D(e),q.send(JSON.stringify({action:6,word:F(e)})),$("#word-in").val()||($("#summtrans").hide(),$("#wordsframe").hide(),$("#video").css("top",0))):($("#words .word").remove(),$("#summtrans").hide(),$("#wordsframe").show(),$("#word-in").focus(),$("#word-in").trigger("input"),t.dovideoshadow=1,X())}if(document.onkeydown=function(e){var o=e||window.e,s=o.keyCode||o.which,n=(J=[]).pop();switch(null!=n&&null!=n&&J.push(n),s!=n&&J.push(s),J.join()){case"27":$("#summtrans").hide(),$("#summtrans-word").text(""),$("#summtrans-phonetic").text("").hide(),$("#summtrans-speak").attr("play-url","").hide(),$("#summtrans-value").hide(),$("#summtrans-vv").text(""),$("#wordsframe").hide(),$("#word-in").val(""),$("#words .word").remove(),$("#video").css("top",0);break;case"32":if(document.activeElement==$("#word-in")[0])return;if("INPUT"==document.activeElement.tagName)return;$("#video")[0].paused?(B(),t.manual=1):(t.manual=2,X());break;case"13":"INPUT"!=document.activeElement.tagName&&C();break;case"97":case"65":if(document.activeElement==$("#word-in")[0])return;if("INPUT"==document.activeElement.tagName)return;S();break;case"115":case"83":if(document.activeElement==$("#word-in")[0])return;if("INPUT"==document.activeElement.tagName)return;W();break;case"119":case"87":if(document.activeElement==$("#word-in")[0])return;if("INPUT"==document.activeElement.tagName)return;A();break;case"100":case"68":if(document.activeElement==$("#word-in")[0])return;if("INPUT"==document.activeElement.tagName)return;j();break;case"113":case"81":if(document.activeElement==$("#word-in")[0])return;if("INPUT"==document.activeElement.tagName)return;z<=1?z=v.currentwords.length:z--,_(z);break;case"101":case"69":if(document.activeElement==$("#word-in")[0])return;if("INPUT"==document.activeElement.tagName)return;++z>v.currentwords.length&&(z=1),_(z);break}},document.onkeyup=function(t){J.pop()},document.onfocus=function(){J=[]},window.onbeforeunload=function(){navigator.sendBeacon("/mumu/page-out"),log.flush()},document.addEventListener("touchend",(function(t){var e=(new Date).getTime();e-L<=300&&t.preventDefault(),L=e}),!1),$(document.body).bind("resize",(function(){})),is_weixn()){$.get("/mumu/wxjsapiticket",(t=>{$.get("/mumu/wxsign",{ticket:t.data.ticket,url:location.href},(t=>{wx.config({debug:!1,appId:t.data.appid,timestamp:t.data.timestamp,nonceStr:t.data.nonceStr,signature:t.data.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData"]})}))}));var U=location.origin+"/mumu/index.html?videoNo="+a;wx.ready((function(){wx.updateAppMessageShareData({title:i.name,desc:"幕幕 - 短视频练英语\n"+(i.chname||" "),link:U,imgUrl:location.origin+"/mumu/favicon.ico",success:function(){}}),wx.updateTimelineShareData({title:i.name+"\n幕幕 - 短视频练英语",link:U,imgUrl:location.origin+"/mumu/favicon.ico",success:function(){}})}))}function E(t){if(!t)return t;var e=t.match(/(\w*)\s*?(的过去|的现在|的复数|的第三|的ing)/);return e?t=t.replace(e[1],`<span class="lightkeytrans" style="text-decoration: underline;cursor:pointer;margin:0 5px;color: bisque;">${e[1]}</span>`):t}function M(){t.subtitlesStatus||(t.subtitlesStatus=0),t.subtitlesStatus++,t.subtitlesStatus>3&&(t.subtitlesStatus=1),1==t.subtitlesStatus?($("#chDialog").show(),$("#zh_subtitles").css("visibility","visible")):2==t.subtitlesStatus?($("#chDialog").hide(),$("#zh_subtitles").css("visibility","visible")):3==t.subtitlesStatus&&($("#chDialog").hide(),$("#zh_subtitles").css("visibility","hidden"))}function A(){$("#chDialog").is(":hidden")?($("#chDialog").show(),$("#wholebtnlash").hide()):($("#chDialog").hide(),$("#wholebtnlash").show())}$("#video").bind("play",(function(){!function(){t.ajaxtranslate&&t.ajaxtranslate.abort();for(const e of t.translateajaxs)e.abort();$(".historyword").css("background-color","#ffffff"),t.dovideoshadow=0,$(".dialog").hide(),$("#summtrans").hide(),$("#summtrans-word").text(""),$("#wordsframe").hide(),$("#word-in").val(""),$("#summtrans-value").hide(),$("#summtrans-vv").text(""),$("#summtrans-phonetic").text("").hide(""),$("#summtrans-speak").attr("play-src","").hide(""),$("#video").css("top","0px"),clearInterval(v.monitor),v.monitor=setInterval((function(){I(1e3*w.currentTime)}),10),z=0,"",$("#zh_subtitles span").css({background:"transparent",color:"black"}),$(".startFn").css({display:"none"}),$(".stopFn").css({display:"inline"}),$(".dialog").css({display:"none"}),$(".dialogTitle #kw").html(""),$(".searchClass").val(""),$(".yibiao").html(""),$(".fanyi").html(""),$("#videoshasow").hide()}()})).bind("pause",(function(){O()})).bind("mouseover",(function(){})).bind("mouseout",(function(){})).bind("canplay",(function(){y()})).bind("durationchange",(function(){})).bind("loadeddata",(function(){})).bind("loadstart",(function(){})).bind("playing",(function(){})).bind("progress",(function(){})).bind("readystatechange",(function(){})).bind("suspend",(function(){})).bind("timeupdate",(function(){T()})).bind("waiting",(function(){})).bind("click",(function(){})).bind("loadedmetadata",(function(){})).bind("touchend",(function(){})).bind("focus",(function(){})).bind("blur",(function(){})),$("#summtrans-word").bind("click",(function(){log.info("#summtrans-word.click"),$("#summtrans").hide(),$("#wordsframe").show(),$("#word-in").val(this.innerText).focus(),$("#word-in").trigger("input")})),$("#summtrans-speak").bind("click",(function(){log.info("#summtrans-speak.click"),this.audio||(this.audio=new Audio),this.audio.src=$(this).attr("play-url"),this.audio.play()})),$("#wordtempl").bind("click",(function(){log.info("#wordtempl.click"),$("#wordsframe").hide(),$("#word-in").val(""),$("#words .word").remove(),G(this.item.word),D(this.item.word),q.send(JSON.stringify({action:6,word:F(this.item.word)}))})),$("#word-in").bind("input",(function(){log.info("#word-in.input");var e=$("#word-in")[0],o=$("#word-in")[0].value;""==o?$("#wordsframe_cancel").show():$("#wordsframe_cancel").hide(),clearTimeout(t.ssssaaa),t.ssssaaa=setTimeout((function(){$("#words .word").remove()}),1e3),o?$.ajax({url:"/mumu/words1",data:{kw:o,rstart:1,rcount:100,from:i.language,to:2},ajaxCache:{timeout:2592e3},success:function(s){if(e.value==o){clearTimeout(t.ssssaaa),$("#words .word").remove();var n=s.data.words;$(n).each(((t,e)=>{var o=$("#wordtempl").clone(!0);o[0].item=e,o.attr("id","word"+e.id),o.addClass("word"),o.html(e.word+"&nbsp;&nbsp;"+(e.phonetic?"/"+e.phonetic+"/":"")+"&nbsp;&nbsp;"+(e.explain||"")),$("#words").append(o),o.show()}))}}}):$("#words .word").remove()})),$("#startFn,#startFn1").bind("mousedown",(function(){isMobile()||(log.info("#startFn.mousedown"),t.startt=new Date,clearTimeout(t.dddd),t.dddd=setTimeout((function(){t.diandu?(t.diandu=0,$("#stopFn,#stopFn1,#startFn,#startFn1").css("border-color","rgb(191, 187, 187)")):(t.diandu=1,$("#stopFn,#stopFn1,#startFn,#startFn1").css("border-color","rgb(255 0 0)"))}),1e3))})).bind("mouseup",(function(){isMobile()||(log.info("#startFn.mouseup"),t.manual=1,clearTimeout(t.dddd),t.startt&&(t.endt=new Date,t.endt.getTime()-t.startt.getTime()<1e3&&B()))})).bind("touchstart",(function(){log.info("#startFn.touchstart"),t.startt=new Date,clearTimeout(t.dddd),t.dddd=setTimeout((function(){t.diandu?(t.diandu=0,$("#stopFn,#stopFn1,#startFn,#startFn1").css("border-color","rgb(191, 187, 187)")):(t.diandu=1,$("#stopFn,#stopFn1,#startFn,#startFn1").css("border-color","rgb(255 0 0)"))}),1e3)})).bind("touchend",(function(){(log.info("#startFn.touchend"),clearTimeout(t.dddd),t.manual=1,t.startt)&&(t.endt=new Date,t.endt.getTime()-t.startt.getTime()<1e3&&B())})),$("#stopFn,#stopFn1").bind("mousedown",(function(){isMobile()||(log.info("#stopFn.mousedown"),t.startt=new Date,clearTimeout(t.dddd),t.dddd=setTimeout((function(){t.diandu?(t.diandu=0,$("#stopFn,#stopFn1,#startFn,#startFn1").css("border-color","rgb(191, 187, 187)")):(t.diandu=1,$("#stopFn,#stopFn1,#startFn,#startFn1").css("border-color","rgb(255 0 0)"))}),1e3))})).bind("mouseup",(function(){isMobile()||(log.info("#stopFn.mouseup"),t.manual=2,clearTimeout(t.dddd),t.startt&&(t.endt=new Date,t.endt.getTime()-t.startt.getTime()<1e3&&X()))})).bind("touchstart",(function(){log.info("#stopFn.touchstart"),t.startt=new Date,clearTimeout(t.dddd),t.dddd=setTimeout((function(){t.diandu?(t.diandu=0,$("#stopFn,#stopFn1,#startFn,#startFn1").css("border-color","rgb(191, 187, 187)")):(t.diandu=1,$("#stopFn,#stopFn1,#startFn,#startFn1").css("border-color","rgb(255 0 0)"))}),1e3)})).bind("touchend",(function(){(log.info("#stopFn.touchend"),clearTimeout(t.dddd),t.manual=2,t.startt)&&(t.endt=new Date,t.endt.getTime()-t.startt.getTime()<1e3&&X())})),$("#prevline").bind("click",(function(){log.info("#prevline.click"),S()})),$("#currline").bind("click",(function(){log.info("#nextline.click"),N()})),$("#nextline").bind("click",(function(){log.info("#nextline.click"),j()})),$("#gear").bind("touchstart",(function(t){log.info("#gear.touchstart");var e=t.targetTouches[0];this.startX=e.pageX,this.startY=e.pageY})).bind("touchmove",(function(e){if(this.startX&&this.startY){var o=e.targetTouches[0];this.endX=o.pageX,this.endY=o.pageY;var s=this.endX-this.startX;this.endY,this.startY;null!=this.lastDist&&null!=this.lastDist||(this.lastDist=s);var n=s-this.lastDist;this.lastDist=s;var i=parseInt(this.style.left.replace("px"))+n;i<=0&&i>=-4900&&(this.style.left=i+"px"),this.xx||(this.xx=0),this.xx=this.xx+n;var a=null;this.xx>30?(a=z,a++):this.xx<-30&&(a=z,a--),v.current&&v.current.enValue&&null!=a&&(a<1&&(a=v.currentwords.length),a>v.currentwords.length&&(a=1),t.dovideoshadow=1,X(),_(a),this.xx=0),e.preventDefault()}})).bind("touchend",(function(t){log.info("#gear.touchend"),this.startX=null,this.startY=null,this.endX=null,this.endY=null,this.lastDist=null,this.xx=0})),$("#gear").bind("mousedown",(function(t){log.info("#gear.mousedown"),this.startX=t.pageX,this.startY=t.pageY})).bind("mousemove",(function(e){if(this.startX&&this.startY){this.endX=e.pageX,this.endY=e.pageY;var o=this.endX-this.startX;this.endY,this.startY;null!=this.lastDist&&null!=this.lastDist||(this.lastDist=o);var s=o-this.lastDist;this.lastDist=o;var n=parseInt(this.style.left.replace("px"))+s;n<=0&&n>=-4900&&(this.style.left=n+"px"),this.xx||(this.xx=0),this.xx=this.xx+s;var i=null;this.xx>30?(i=z,i++):this.xx<-30&&(i=z,i--),v.current&&v.current.enValue&&null!=i&&(i<1&&(i=v.currentwords.length),i>v.currentwords.length&&(i=1),t.dovideoshadow=1,X(),_(i),this.xx=0)}})).bind("mouseup",(function(t){log.info("#gear.mouseup"),this.startX=null,this.startY=null,this.endX=null,this.endY=null,this.lastDist=null,this.xx=0})),$("#replay").bind("click",(function(t){log.info("#replay.click"),$("#video")[0].load()})),$("#hideBtn").bind("click",(function(t){log.info("#hideBtn.click"),$("#zh_subtitles").css("opacity"),1==$("#zh_subtitles").css("opacity")?($("#zh_subtitles").css("opacity",0),$("#chDialog").hide(),$("#hideBtn").css("background-color","rgb(230, 230, 230)")):($("#chDialog").show(),$("#zh_subtitles").css("opacity",1),$("#hideBtn").css("background-color","#ffffff"))})),$("#wholebtn").bind("click",(function(t){log.info("#wholebtn.click"),A()})),$("#searchbtn").bind("click",(function(t){log.info("#searchbtn.click"),C()})),M(),$("#subtitlesBtn").click((function(){M()})),document.body.addEventListener("click",(function(){})),$("#goPrevVideo").click((function(){log.info("#goPrevVideo.click"),x()})),$("#goNextVideo").click((function(){log.info("#goNextVideo.click"),b()})),$("#word-in").bind("blur",(function(){""==this.value&&setTimeout((function(){$("#wordsframe").hide(),$("#video").css("top",0),t.manual&&(1==t.manual?B():2==t.manual&&X())}),100)})),$("#word-in").bind("focus",(function(){this.select(),""==this.value?$("#wordsframe_cancel").show():$("#wordsframe_cancel").hide()})),$("#searchclear").click((function(){o="",s="",$("#searchtext").text("搜索").css("color","#bfbbbb"),$("#searchpad").slideUp(100),$.ajax({url:"/mumu/explore-videos?",data:"shortvideo=1&kw="+o+"&pageSize=5&tag="+s+"&seed="+t.seed+"&rstart=1",async:!0,success:function(e){t.currVideos=e.data.videos,c=[],u=-1,t.rstart=1,c.push(...e.data.videos),localStorage.setItem(config.project+"-videos",JSON.stringify(c)),b()}})})),$(".searchtag").click((function(){s=this.innerText,$("#searchtext").text("#"+this.innerText+"#").css("color","#6f6f6f"),$("#searchpad").slideUp(100),$.ajax({url:"/mumu/explore-videos?",data:"shortvideo=1&kw="+o+"&pageSize=5&tag="+s+"&seed="+t.seed+"&rstart=1",async:!0,success:function(e){c=[],u=-1,t.currVideos=e.data.videos,t.rstart=1,c.push(...e.data.videos),localStorage.setItem(config.project+"-videos",JSON.stringify(c)),b()}})})),$("#wordbookpad").bind("mousedown touchstart",(function(t){if("touchstart"==t.type){var e=t.targetTouches[0];this.touchstartY=e.pageY}else"mousedown"==t.type&&(this.touchstartY=t.pageY)})).bind("mousemove touchmove",(function(t){if("touchmove"==t.type){var e=t.targetTouches[0];this.touchendY=e.pageY}else"mousemove"==t.type&&(this.touchendY=t.pageY)})).bind("mouseup touchend",(function(t){this.touchendY-this.touchstartY>50&&$("#wordbookpad").slideUp(100),this.touchstartY=null,this.touchendY=null})),$("#wordbookpadBtn").click((function(){$("#wordbookpad").css("height",$(window).height()-($("#video").height()+64+5)+"px"),$("#wordbookpad").slideDown(100),0==t.wordbooks.rows.length&&$.ajax({url:"/mumu/wordbooks?",data:{rstart:t.favoredWords.rstart,rcount:t.favoredWords.rcount},success:function(e){t.wordbooks.rows.push(...e.data.rows),t.wordbooks.currRows=e.data.rows,$(e.data.rows).each(((t,e)=>{var o=$("#wordbooksPad .row0").clone(!0);o.removeClass("row0"),o.addClass("row"+e.no),o.text(e.name),o[0].data=e,o.show(),$("#wordbooksPad .row0").before(o)}))}})})),$("#searchpadbtn").click((function(){$("#searchpad").css("height",$(window).height()-($("#video").height()+64+5)+"px"),$("#searchpad").slideDown(100)})),$("#searchpad").bind("touchstart",(function(t){var e=t.targetTouches[0];this.touchstart=e.pageY})).bind("touchmove",(function(t){var e=t.targetTouches[0];this.touchend=e.pageY,0==$(this).scrollTop()&&this.touchstart<this.touchend&&t.preventDefault()})).bind("touchend",(function(t){this.touchend-this.touchstart>50&&$("#searchpad").slideUp(100),this.touchstart=null,this.touchend=null})),$("#searchpad").bind("mousedown",(function(t){this.touchstart=t.pageY})).bind("mousemove",(function(t){this.touchend=t.pageY,0==$(this).scrollTop()&&this.touchstart<this.touchend&&t.preventDefault()})).bind("mouseup",(function(t){this.touchend-this.touchstart>50&&$("#searchpad").slideUp(100),this.touchstart=null,this.touchend=null})),$("#loopVideoBtn").click((function(){$("#video").attr("loop")?($("#video").attr("loop",!1),$(this).css("background-color","#ffffff")):($("#video").attr("loop","loop"),$(this).css("background-color","#e6e6e6"))})),$("#unloopVideoBtn").click((function(){$("#video").attr("loop",!1),$("#loopVideoBtn").show(),$("#unloopVideoBtn").hide()})),$("#chatminpad").click((function(){t.preChatPaused=$("#video")[0].paused,$("#chatpad").css("height",$(window).height()-($("#video").height()+64+$("#controlpad").height()+20)+"px"),$("#gearframe1").hide(),$("#prevnextpad").hide(),$("#chatpad").slideDown(100,(function(){}))})),$("#chatroombtn").click((function(){$("#chatroompad").show(),$("#chatprivatepad").hide(),$(this).css("background-color","#d7d7d7"),$("#chatprivatebtn").css("background-color","#737373")})),$("#chatprivatebtn").click((function(){$("#chatroompad").hide(),$("#chatprivatepad").show(),$(this).css("background-color","#d7d7d7"),$("#chatroombtn").css("background-color","#737373")})),$("#index").bind("click",(function(t){var e=$(t.target).hasClass("translatable")?t.target:$(t.target).parents(".translatable")[0];e&&(e.transfrom?(D(e.transfrom),q.send(JSON.stringify({action:6,word:F(e.innerText)}))):e.innerText&&(D(e.innerText),q.send(JSON.stringify({action:6,word:F(e.innerText)}))))})),t.spans=[],t.spansIs=0,t.firstRangeWordInx=0,t.lastRangeWordInx=0,$("#zh_subtitles").bind("mousedown touchstart",(function(e){log.info("#zh_subtitles."+e.type);var o=null;if(o="touchmove"==e.type?document.elementFromPoint(e.targetTouches[0].pageX,e.targetTouches[0].pageY):e.target,$(o).hasClass("font")){t.firstRangeWordInx=0,t.lastRangeWordInx=0,X();var s=parseInt($(o).attr("index"));z=s+1,t.spansIs=1,t.spans=[],t.firstRangeWordInx=s,t.lastRangeWordInx=s,$("#zh_subtitles .font").css("background-color","#ffffff"),$("#zh_subtitles .font.span"+s).css("background-color","rgb(210, 203, 203)")}})).bind("mousemove touchmove",(function(e){var o=null;if(o="touchmove"==e.type?document.elementFromPoint(e.targetTouches[0].pageX,e.targetTouches[0].pageY):e.target,e.stopPropagation(),$(o).hasClass("font")){if(!t.spansIs)return;$("#zh_subtitles .font").css("background-color","#ffffff");var s=parseInt($(o).attr("index"));t.spans[t.spans.length-1]!=s&&t.spans.push(s);var n=t.spans[0],i=t.spans[t.spans.length-1];if(n>i){var a=n;n=i,i=a}t.firstRangeWordInx=n,t.lastRangeWordInx=i;for(var r=n;r<=i;r++)$("#zh_subtitles .font.span"+r).css("background-color","rgb(210, 203, 203)")}})).bind("mouseup touchend",(function(e){log.info("#zh_subtitles."+e.type);var o=null;if(o="touchmove"==e.type?document.elementFromPoint(e.targetTouches[0].pageX,e.targetTouches[0].pageY):e.target,$(o).hasClass("font")&&t.spansIs){for(var s=t.firstRangeWordInx,n=t.lastRangeWordInx,i="",a=s;a<=n;a++)i+=$("#zh_subtitles .font.span"+a).text()+" ";i=i.substr(0,i.length-1),t.dovideoshadow=1,X(),G(i),D(i),q.send(JSON.stringify({action:6,word:F(i)})),t.spansIs=0,t.spans=[]}})),$("#index").unbind("touchstart mousedown").bind("touchstart mousedown",(function(t){if(this.touchstartTime=(new Date).getTime(),"touchstart"==t.type){var e=t.targetTouches[0];this.touchstartX=e.pageX,this.touchstartY=e.pageY}else"mousedown"==t.type&&(this.touchstartX=t.pageX,this.touchstartY=t.pageY)})).unbind("touchmove mousemove").bind("touchmove mousemove",(function(t){var e;"touchmove"==t.type?(e=(o=t.targetTouches[0]).pageX,o.pageY):"mousemove"==t.type&&(e=t.pageX,t.pageY);if(this.touchstartX&&this.touchstartY&&this.touchendX&&this.touchendY&&($("#video1").css("left",parseInt($("#video1").css("left").replace("px",""))+e-this.touchendX+"px"),$("#video2").css("left",parseInt($("#video2").css("left").replace("px",""))+e-this.touchendX+"px")),"touchmove"==t.type){var o=t.targetTouches[0];this.touchendX=o.pageX,this.touchendY=o.pageY}else"mousemove"==t.type&&(this.touchendX=t.pageX,this.touchendY=t.pageY);for(var s=null;!((s=s?$(s).parent():$(t.target)).scrollTop()>0)&&0!=s.length;);0==s.length&&this.touchstartY<this.touchendY&&(log.debug("e.preventDefault()"),t.preventDefault())})).unbind("touchend mouseup").bind("touchend mouseup",(function(t){this.touchendtime=(new Date).getTime(),$("#video1").css("left","100%"),$("#video2").css("left","-100%"),this.touchendtime-this.touchstartTime<500&&this.touchstartX&&this.touchstartY&&this.touchendX&&this.touchendY&&(this.touchstartX-this.touchendX>100?b():this.touchstartX-this.touchendX<-100&&x()),this.touchstartTime=null,this.touchendtime=null,this.touchstartX=null,this.touchstartY=null,this.touchendX=null,this.touchendY=null})),$("#chatprivatebtn,#chatroombtn,#chatprivatepad,#chatinput").bind("touchstart",(function(t){var e=t.targetTouches[0];this.touchstart=e.pageY})).bind("touchmove",(function(t){var e=t.targetTouches[0];this.touchend=e.pageY,0==$(this).scrollTop()&&this.touchstart<this.touchend&&t.preventDefault()})).bind("touchend",(function(t){this.touchend-this.touchstart>50&&($("#gearframe1").show(),$("#prevnextpad").show(),$("#chatpad").slideUp(100,(function(){}))),this.touchstart=null,this.touchend=null})),$("#chatprivatebtn,#chatroombtn,#chatprivatepad,#chatinput").bind("mousedown",(function(t){this.mousedown=t.pageY})).bind("mousemove",(function(t){this.mouseup=t.pageY,0==$(this).scrollTop()&&this.mousedown<this.mouseup&&t.preventDefault()})).bind("mouseup",(function(t){this.mouseup=t.pageY,this.mouseup-this.mousedown>50&&($("#gearframe1").show(),$("#prevnextpad").show(),$("#chatpad").slideUp(100,(function(){}))),this.mousedown=null,this.mouseup=null})),$("#chatmsgspad").bind("touchstart",(function(t){var e=t.targetTouches[0];this.touchstart=e.pageY})).bind("touchmove",(function(t){var e=t.targetTouches[0];this.touchend=e.pageY,0==$("#chatmsgspad").scrollTop()&&this.touchstart<this.touchend&&t.preventDefault()})).bind("touchend",(function(t){this.touchend-this.touchstart>50&&0==$("#chatmsgspad").scrollTop()&&($("#gearframe1").show(),$("#prevnextpad").show(),$("#chatpad").slideUp(100,(function(){}))),this.touchstart=null,this.touchend=null})),$("#chatmsgspad").bind("mousedown",(function(t){this.mousedown=t.pageY})).bind("mousemove",(function(t){this.mouseup=t.pageY,0==$("#chatmsgspad").scrollTop()&&this.mousedown<this.mouseup&&t.preventDefault()})).bind("mouseup",(function(t){this.mouseup=t.pageY,this.mouseup-this.mousedown>50&&0==$("#chatmsgspad").scrollTop()&&($("#gearframe1").show(),$("#prevnextpad").show(),$("#chatpad").slideUp(100,(function(){}))),this.mousedown=null,this.mouseup=null})),$("#word-in").keydown((function(){13==(window.event||e).keyCode&&C()})),$("#chatinput").keydown((function(){if(13==(window.event||e).keyCode){if(""==this.value)return;var t={text:this.value,action:1,looking:i.name};q.send(JSON.stringify(t)),this.value=""}}));var q=null;function H(){(q=new WebSocket(`wss://${location.host}/mumu/websocket/${pagePre.login.userNo}`)).onopen=function(){t.ws=q},q.onmessage=function(t){var e=JSON.parse(t.data);if(1==e.action){null!=e.nickname&&(e.nickname=e.nickname.substr(0,1)+"..."+e.nickname.substr(3));var o=$("#chatmsgtemple").clone(!0);o.attr("id","chatmsg"+e.msgNo),e.userNo==$.cookie("token")&&o.css("color","green"),o.find(".name").text(e.nickname||"网友"),o.find(".msg").text(e.text),o.find(".looking").text(e.looking),o.show(),$("#chatmsgspad").prepend(o),$("#lastmsg").text((e.nickname||"网友").substr(0,6)+" : "+e.text)}},q.onclose=function(t){},q.onerror=function(t){}}function G(e){e=F(e),clearTimeout(t.sssss),t.sssss=setTimeout((function(){$("#relatedWordsPad .relatedWord").remove(),$("#fromRelatedWord").text(e),$.ajax({url:"/mumu/related-words",data:{kw:e,rstart:1,rcount:100,from:i.language,to:2},ajaxCache:{timeout:2592e3},success:function(t){t.data.words&&$(t.data.words).each(((t,e)=>{var o=$("#relatedWord0").clone(!0);o[0].data=e,o.attr("id","relatedWord"+e.id),o.addClass("relatedWord"),o.text(e.word),$("#relatedWord0").before(o),o.show()}))}})}),100)}function K(){$.ajax({url:"/mumu/favored-words?",data:{rstart:t.favoredWords.rstart,rcount:t.favoredWords.rcount},success:function(e){t.favoredWords.rows.push(...e.data.rows),t.favoredWords.currRows=e.data.rows,$(e.data.rows).each(((t,e)=>{$("#favorsPad .word0").before(function(t){var e=$("#favorsPad .word0").clone(!0);e.removeClass("word0"),e.addClass("word"+t.favorWordNo),e.find(".word").text(t.word),t.phonetic?e.find(".phonetic").text("/"+t.phonetic+"/"):(e.find(".word").css("width","66.666666%"),e.find(".phonetic").hide());return e[0].data=t,e[0].transfrom=t.word,e.show(),e}(e))}))}})}function Q(){$.ajax({url:"/mumu/history-words?",data:{rstart:t.historyWords.rstart,rcount:t.historyWords.rcount},success:function(e){t.historyWords.rows.push(...e.data.rows),t.historyWords.currRows=e.data.rows,$(e.data.rows).each(((t,e)=>{$("#historyWordsPad .word0").before(function(t){var e=$("#historyWordsPad .word0").clone(!0);e.removeClass("word0"),e.addClass("word"+t.historyWordNo),e.find(".word").text(t.word),t.phonetic?e.find(".phonetic").text("/"+t.phonetic+"/"):(e.find(".word").css("width","66.666666%"),e.find(".phonetic").hide());return e[0].data=t,e[0].transfrom=t.word,e.show(),e}(e))}))}})}H(),setInterval((()=>{if(q&&3==q.readyState&&H(),!$("#video")[0].paused){var t=localStorage.getItem(config.project+"-totalsecondsno");t=parseInt(t||0),t+=5,localStorage.setItem(config.project+"-totalsecondsno",t),q.send(JSON.stringify({action:2,videoNo:a,seconds:5}))}}),5e3),setInterval((function(){q&&1==q.readyState&&q.send("0")}),3e4),statisticsexps(),$("#relatedWord0").click((function(){D(this.innerText),q.send(JSON.stringify({action:6,word:F(this.innerText)}))})),$("#fromRelatedWordPad").click((function(){D($("#fromRelatedWord").text()),q.send(JSON.stringify({action:6,word:F($("#fromRelatedWord").text())}))})),$.ajax({url:"/mumu/chatroom-msgs?",data:"rcount=300",async:!0,success:function(t){$(t.data.rows).each(((t,e)=>{null!=e.nickname&&(e.nickname=e.nickname.substr(0,1)+"..."+e.nickname.substr(3)),0==t&&($("#lastmsg").text((e.nickname||"网友").substr(0,6)+" : "+e.text),$("#chatminpad").show());var o=$("#chatmsgtemple").clone(!0);o.attr("id","chatmsg"+e.msgNo),e.userNo==$.cookie("token")&&o.css("color","green"),o.find(".name").text(e.nickname||"网友"),o.find(".msg").text(e.text),o.find(".looking").text(e.looking),o.show(),$("#chatmsgspad").append(o)})),0==t.data.rows.length&&($("#lastmsg").text("聊天室"),$("#chatminpad").show())}}),$("#wordbooksPad .createRowBtn").click((function(){common.prompt({message:"请输入单词本名称",parent:$("#index"),confirm:function(t){t&&$.ajax({url:"/mumu/create-wordbook?",data:{name:t},success:function(e){if(0==e.code){var o={no:e.data.no,name:t},s=$("#wordbooksPad .row0").clone(!0);s.removeClass("row0"),s.addClass("row"+o.no),s.text(o.name),s[0].data=o,s.show(),$("#wordbooksPad .row0").before(s)}else common.alert(e.msg)}})}})})),$("#wordbooksPad .row0").click((function(e){t.wordbooks.selected=this.data,$("#wordbooksPad .createRowBtn").hide(),$("#wordbooksPad .editRowBtn").show()})),$("#wordbooksPad .editRowBtn").click((function(t){$("#wordbookEditPad").show()})),$("#wordbooksPad .catalogs").click((function(e){this==e.target&&(t.wordbooks.selected=null,$("#wordbooksPad .createRowBtn").show(),$("#wordbooksPad .editRowBtn").hide())})),$("#favorsPad .word0").click((function(t){D(this.data.word)})),$("#favorsPad .word0 .removeBtn").click((function(e){var o=$(this).parents(".wrap"),s=o[0].data;q.send(JSON.stringify({action:5,word:s.word})),o.remove(),t.favoredWords.rows.splice(t.favoredWords.rows.indexOf(s),4),t.favoredWords.currRows.splice(t.favoredWords.currRows.indexOf(s),4),e.stopPropagation()})),$("#favorsPad .coverTargetTextBtn").click((function(){"hidden"==$("#favorsPad .word,#favorsPad .phonetic").css("visibility")?$("#favorsPad .word,#favorsPad .phonetic").css("visibility","visible"):$("#favorsPad .word,#favorsPad .phonetic").css("visibility","hidden")})),$("#favorsPad .coverMainTextBtn").click((function(){"hidden"==$("#favorsPad .translation").css("visibility")?$("#favorsPad .translation").css("visibility","visible"):$("#favorsPad .translation").css("visibility","hidden")})),$("#historyWordsPad .word0 .removeBtn").click((function(e){var o=$(this).parents(".wrap"),s=o[0].data;q.send(JSON.stringify({action:7,word:s.word})),o.remove(),t.historyWords.rows.splice(t.historyWords.rows.indexOf(s),4),t.historyWords.currRows.splice(t.historyWords.currRows.indexOf(s),4),e.stopPropagation()})),$("#historyWordsPad .word0").click((function(t){D(this.data.word)})),$("#historyWordsPad .coverTargetTextBtn").click((function(){"hidden"==$("#historyWordsPad .word,#historyWordsPad .phonetic").css("visibility")?$("#historyWordsPad .word,#historyWordsPad .phonetic").css("visibility","visible"):$("#historyWordsPad .word,#historyWordsPad .phonetic").css("visibility","hidden")})),$("#historyWordsPad .coverMainTextBtn").click((function(){"hidden"==$("#historyWordsPad .translation").css("visibility")?$("#historyWordsPad .translation").css("visibility","visible"):$("#historyWordsPad .translation").css("visibility","hidden")})),$("#favorsBtn").click((function(){$("#favorsBtn").css("background-color","unset").css("color","#ffffff"),$("#historyWordsBtn").css("background-color","#9f9f9f").css("color","#000000"),$("#wordbooksBtn").css("background-color","#9f9f9f").css("color","#000000"),$("#favorsPad").show(),$("#historyWordsPad").hide(),$("#wordbooksPad").hide(),0==t.favoredWords.rows.length&&K()})),$("#historyWordsBtn").click((function(){$("#favorsBtn").css("background-color","#9f9f9f").css("color","#000000"),$("#historyWordsBtn").css("background-color","unset").css("color","#ffffff"),$("#wordbooksBtn").css("background-color","#9f9f9f").css("color","#000000"),$("#favorsPad").hide(),$("#historyWordsPad").show(),$("#wordbooksPad").hide(),0==t.historyWords.rows.length&&Q()})),$("#wordbooksBtn").click((function(){$("#favorsBtn").css("background-color","#9f9f9f").css("color","#000000"),$("#historyWordsBtn").css("background-color","#9f9f9f").css("color","#000000"),$("#wordbooksBtn").css("background-color","unset").css("color","#ffffff"),$("#favorsPad").hide(),$("#historyWordsPad").hide(),$("#wordbooksPad").show()}))}();