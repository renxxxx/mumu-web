!function(){$("#finger,gear").animate({left:"+=150px"},2e3,function(){$("#finger").animate({left:"-=300px"},2e3,()=>{$("#finger").fadeOut(500)})}),$("#gear").animate({left:"+=150px"},2e3,function(){$("#gear").animate({left:"-=300px"},2e3)});var s,i=[],r=window.location.search.substring(1).split("&")[0].split("=")[1],n=localStorage.getItem("currentTime-"+r),e=parseInt(localStorage.getItem("currentIndex-"+r)),t=JSON.parse(localStorage.getItem("currentCaption-"+r)),o=t,a=0,c=0,l=0,u={subtitles:"",monitor:"",subtitlesList:[],current:t,currentIndex:e},d=[],m=$("#video")[0];function p(){console.log("onCanPlay: "+ ++a),console.log(" ct: "+$("#video")[0].currentTime+" st: "+(u.current&&u.current.startTime)+" et: "+(u.current&&u.current.endTime)+" "+(u.current&&u.current.enValue.substr(0,5))),c||n&&($("#video")[0].currentTime=n,console.log("set lct: "+n+" ct: "+$("#video")[0].currentTime),$("#video")[0].currentTime>=n&&(c=1))}function h(){console.log("ontimeupdate: "+ ++a),console.log(" ct: "+$("#video")[0].currentTime+" st: "+(u.current&&u.current.startTime)+" et: "+(u.current&&u.current.endTime)+" "+(u.current&&u.current.enValue.substr(0,5))),l||(console.log("1"),0!=n?n&&(console.log("2"),$("#video")[0].currentTime=n,console.log("set lct: "+n+" ct: "+$("#video")[0].currentTime),$("#video")[0].currentTime>=n&&(console.log("3"),l=1)):l=1),m.paused&&g(1e3*m.currentTime)}function g(n){if($("#loading").hide(),localStorage.setItem("durationsec-"+r,$("#video")[0].duration),localStorage.setItem("currentTime-"+r,$("#video")[0].currentTime),o){if(!(o.startTime<n))return;o=null}if(!(u.current&&u.current.startTime<=n&&n<u.current.endTime)){var e=u.subtitlesList[u.currentIndex+1];return console.log("currentIndex: "+u.currentIndex),console.log("next: "+JSON.stringify(e)),e&&e.startTime<=n&&n<e.endTime?(console.log("next "),u.current=e,u.currentIndex++,void f(e)):e&&n<e.startTime&&(!u.current||n>u.current.endTime)?(console.log("before next"),void console.log("next: st: "+e.startTime+" currinx: "+u.currentIndex)):void $(u.subtitlesList).each(function(e,t){t.startTime<=n&&n<t.endTime&&(console.log("search all "),u.current=t,u.currentIndex=e,f(t))})}}function f(e){if(e){console.log("setline: ct: "+$("#video")[0].currentTime+" st: "+e.startTime+" et: "+e.endTime+" "+e.enValue.substr(0,5)),localStorage.setItem("currentCaption-"+r,JSON.stringify(e)),localStorage.setItem("currentIndex-"+r,u.currentIndex);let t=e.enValue.split(" ");$("#zh_subtitles").html(""),u.currentwords=t;for(let e=0;e<t.length;e++){var n,s=t[e].split("\\n");s[0]&&((n=$('<span style="user-select: none;display: inline-block;cursor: pointer;font-weight: 900;font-size: 18px;padding-left:3px;padding-right:3px;" class="font span'+e+'">'+s[0]+"</span>")).bind("click",function(){y(),E(e+1)}).bind("mouseout",function(){$(this).css("border-bottom","")}).bind("mouseover",function(){$(this).css("border-bottom","2px solid black")}),$("#zh_subtitles").append(n)),s[1]&&(t.splice(e+1,0,s[1]),$("#zh_subtitles").append("<br/>"))}$(".dialog").css({display:"none"}),$(".dialogTitle #kw").html(""),D=0,$(".dialog").css({display:"none"}),$(".dialogTitle #kw").html(""),$("#summtrans").hide(),$("#wordsframe").hide(),$("#word-in").val(""),$("#video").css("top","0px")}}function b(){var e,t;0<u.currentIndex&&(e=u.currentIndex,(t=u.subtitlesList[--e])&&(t.enValue||(t=u.subtitlesList[--e])),t&&(u.currentIndex=e,u.current=t,n=(o=t).startTime/1e3,$("#video")[0].currentTime=t.startTime/1e3,console.log("set ct: "+t.startTime/1e3+" ct: "+$("#video")[0].currentTime),f(t),D=0,X(),$(".dialog").css({display:"none"}),$(".dialogTitle #kw").html("")))}function v(){var e=u.currentIndex,t=u.current;(t=t&&(t.enValue?t:u.subtitlesList[--e]))&&(u.currentIndex=e,u.current=t,$("#video")[0].currentTime=t.startTime/1e3,n=(o=t).startTime/1e3,console.log("set ct: "+t.startTime/1e3+" ct: "+$("#video")[0].currentTime),f(t),D=0,X(),$(".dialog").css({display:"none"}),$(".dialogTitle #kw").html(""))}function w(){var e=u.currentIndex,t=u.subtitlesList[++e];(t=t&&(t.enValue?t:u.subtitlesList[++e]))&&(u.currentIndex=e,u.current=t,n=(o=t).startTime/1e3,$("#video")[0].currentTime=t.startTime/1e3,console.log("set ct: "+t.startTime/1e3+" ct: "+$("#video")[0].currentTime),f(t),D=0,X(),$(".dialog").css({display:"none"}),$(".dialogTitle #kw").html(""))}function T(e){var t=(i=i||[]).indexOf(e);-1<t&&i.splice(t,1),i.unshift(e);t=$("#historyword_template").clone(!0);t.attr("id","historyword-"+e.replace(/[^\w]/g,"")),t.text(e),t.css("display","inline-block"),$("#historywordspad").prepend(t),localStorage.setItem("historywords",JSON.stringify(i))}function x(e){var t=i.indexOf(e);-1<t&&i.splice(t,1),$("#historyword-"+e.replace(/[^\w]/g,"")).remove()}function k(e){console.log(e+3),e=e.replace(/^(,|\.|\?|!)+/,"").replace(/(,|\.|\?|!)+$/,""),$("#summtrans").show(),$("#summtrans-word").text(e),$("#word-in").val(e),clearTimeout(window.timeoutdo1),window.timeoutdo1=setTimeout(function(){return window.aaa=setTimeout(function(){$("#summtrans-phonetic").hide(),$("#summtrans-speak").hide(),$("#summtrans-value").hide()},500),null!=e&&null!=e&&e.toString().trim()?void $.ajax({url:"/mumu/translate?from="+s.language+"&to=2&q="+e,type:"get",async:!0,success:function(e){clearTimeout(window.aaa),e.data.phonetic?$("#summtrans-phonetic").text("/"+e.data.phonetic+"/").show():$("#summtrans-phonetic").hide(),e.data.speakUrl?$("#summtrans-speak").attr("play-url",e.data.speakUrl).show():$("#summtrans-speak").hide(),$("#summtrans-vv").html("").scrollTop(0),e.data.translations&&$(e.data.translations).each(function(e,t){$("#summtrans-vv").append(`<div>${C(t)}</div>`)}),e.data.webTranslations&&($("#summtrans-vv").append('<div style="margin-top:10px;">网络释义: </div>'),$(e.data.webTranslations).each(function(e,t){$("#summtrans-vv").append(`<div>${C(t)}</div>`)})),$("#summtrans-vv").show(),$("#summtrans-value").show(),$("#summtrans").show(),$("#video").css("top","-1000px")}}):($("#summtrans-phonetic").hide(),$("#summtrans-speak").hide(),void $("#summtrans-value").hide())},200)}function y(){$("#video")[0].pause()}function I(){$("#video")[0].play()}function _(){u.current&&($("#video")[0].currentTime,$(".chDialog").css("display","block"),$(".chDialog div").html(u.current.chValue.replace("\\n","</br>")),y())}function X(){$(".chDialog").css("display","none")}function Y(e){let t=e.split(":"),n=0;return t.forEach((e,t)=>{switch(t){case 0:n+=60*parseFloat(e)*60*1e3;break;case 1:n+=60*parseFloat(e)*1e3;break;case 2:n+=1e3*parseFloat(e)}}),n}function z(e){console.log(e),console.dir($("#zh_subtitles").height());var t,n=$("#zh_subtitles").width()+$("#zh_subtitles").offset().left-5,s=$("#zh_subtitles").height()+$("#zh_subtitles").offset().top-5;d=[],$("#zh_subtitles span").css({background:"transparent",color:"black"}),ele=document.elementFromPoint(e.pageX,e.pageY),$(ele).hasClass("font")&&(t=e.clientX||e.pageX,e=e.clientY||e.pageY,t<n-5&&t>$("#zh_subtitles").offset().left+5&&$("#zh_subtitles").offset().top+5<e&&e<s-5&&ele.className.lastIndexOf("font span ")<0&&" "!=ele.innerHTML&&(d.push({class:ele.className,value:ele.innerHTML}),$("."+ele.className.split(" ")[1]).css({background:"#d2cbcb",color:"black"})))}function L(e){if(ele=document.elementFromPoint(e.pageX,e.pageY),$(ele).hasClass("font")){var t=e.clientX||e.pageX,n=e.clientY||e.pageY,s=$("#zh_subtitles").width()+$("#zh_subtitles").offset().left,e=$("#zh_subtitles").height()+$("#zh_subtitles").offset().top;if(t<s-5&&t>$("#zh_subtitles").offset().left+5&&$("#zh_subtitles").offset().top+5<n&&n<e-5&&ele.className.lastIndexOf("font span ")<0){let n=!0;if(d.findIndex(function(e,t){e.class==ele.className&&(n=!1)}),n&&" "!=ele.innerHTML)if(d.length){var i=parseInt(d[d.length-1].class.replace("font span","")),r=parseInt(ele.className.replace("font span",""));if(console.log(r-i),r==i+1)d.push({class:ele.className,value:ele.innerHTML}),$("."+ele.className.split(" ")[1]).css({background:"#d2cbcb",color:"black"});else if(i+1<r)for(let e=i;e<r;e++)$(".span"+e),d.push({class:$(".span"+e).attr("class"),value:$(".span"+e).html()}),$(".span"+e).css({background:"#d2cbcb",color:"black"});else for(let e=r;e<i;e++)$(".span"+e),d.push({class:$(".span"+e).attr("class"),value:$(".span"+e).html()}),$(".span"+e).css({background:"#d2cbcb",color:"black"})}else d.push({class:ele.className,value:ele.innerHTML}),$("."+ele.className.split(" ")[1]).css({background:"#d2cbcb",color:"black"})}}}function S(e){ele=document.elementFromPoint(e.pageX,e.pageY);for(let t=0;t<d.length-1;t++)for(let e=0;e<d.length-t-1;e++){var n;parseInt(d[e].class.replace("font span",""))>parseInt(d[e+1].class.replace("font span",""))&&(n=d[e],d[e]=d[e+1],d[e+1]=n)}let s="";$(d).each(function(e,t){0<e?s+=" "+t.value.replace(/^(,|\.|\?|!)+/,"").replace(/(,|\.|\?|!)+$/,""):s=t.value.replace(/^(,|\.|\?|!)+/,"").replace(/(,|\.|\?|!)+$/,"")}),s?(s,1==s.split(" ").length&&(x(s),T(s)),k(s)):0,$(".searchClass").blur()}t&&f(t),$.ajax({url:"/mumu/video?",type:"get",data:"videoNo="+r,async:!1,success:function(e){(s=e.data.video).height&&s.width&&($("#video").css("height",parseInt($("#video").css("width").replace("px",""))*(s.height/s.width)),$("#summtrans").css("height",$("#video").css("height")),$("#wordsframe").css("height",$("#video").css("height"))),$.ajax({url:s.captionUrl,type:"get",async:!0,success:function(e){!function(e){console.log("getEnSubtitles: "+ ++a);let i=[];i=e.split(/[(\r\n)\r\n]+/),i.forEach((e,t)=>{e||i.splice(t,1);var n;let s=new RegExp(/^(20|21|22|23|[0-1]\d):[0-5]\d:[0-5]\d/);s.test(e)&&(n=i[t+2],t=i[t+1],0<=n.indexOf("{\\pos")||0<=t.indexOf("{\\pos")||u.subtitlesList.push({startTime:Y(e.split(" --\x3e ")[0].replace(",",".")),endTime:Y(e.split(" --\x3e ")[1].replace(",",".")),chValue:t,enValue:n}))});for(let e=0;e<u.subtitlesList.length;e++){e;var t=u.subtitlesList[e],n=u.subtitlesList[e+1];e<u.subtitlesList.length-2&&1e3<n.startTime-t.endTime&&u.subtitlesList.splice(e+1,0,{startTime:parseInt(t.endTime)+1e3,endTime:n.startTime,chValue:"",enValue:""})}e=u.subtitlesList[0];e&&0<e.startTime&&u.subtitlesList.splice(0,0,{startTime:0,endTime:e.startTime,chValue:"",enValue:""});e=u.subtitlesList[u.subtitlesList.length-1];e&&u.subtitlesList.push({startTime:parseInt(e.endTime)+1e3,endTime:1e3*s.duration,chValue:"",enValue:""});0<=u.currentIndex?(u.current=u.subtitlesList[u.currentIndex],f(u.current)):f(u.subtitlesList[0]);$("#video").attr("src",s.url)}(e)}})}}),$("#historyword_template").bind("click",function(e){y(),k(this.innerText)}),function(){var e=localStorage.getItem("historywords");e&&(i=JSON.parse(e));for(let e=0;e<i.length;e++){const n=i[e];var t=$("#historyword_template").clone(!0);t.attr("id","historyword-"+n.replace(/[^\w]/g,"")),t.text(n),t.css("display","inline-block"),t.show(),$("#historywordspad").append(t)}}(),$(".yibiao").on("click","span svg",function(){let e=new Audio($(this).attr("playsrc"));e.play()}),$("#zh_subtitles").mousedown(e=>{moveStata=!0,_coordinates={clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY},z(_coordinates),$("#zh_subtitles").mousemove(e=>{moveStata&&(_coordinates={clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY},L(_coordinates))}).mouseup(function(e){moveStata=!1,_coordinates={clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY},S(_coordinates),$("#zh_subtitles").unbind("mousemove").unbind("mouseup")})});var V,D=0,N=[];function E(e){var t;D=e,$(".font").css({background:"transparent"}),$(".font.span"+(D-1)).css({background:"#d2cbcb"}),y(),$("#summtrans-word").show(),0<D&&($("#wordsframe").hide(),k(t=u.currentwords[D-1]),clearTimeout(window.timeoutdo2),window.timeoutdo2=setTimeout(()=>{x(t),T(t)},500))}function O(){isPc()?($("#gearframe1").hide(),$("#pcrecommand").text("控制键(a,s,d,space) 翻译键(q,w,e,enter)")):($("#gearframe1").show(),$("#pcrecommand").text("PC端操作更方便")),s.height&&s.width&&$("#video").css("height",parseInt($("#video").css("width").replace("px",""))*(s.height/s.width))}function F(){document.activeElement==$("#word-in")[0]?($("#wordsframe").hide(),k($("#word-in").val()),$("#word-in").val()||($("#summtrans").hide(),$("#wordsframe").hide(),$("#video").css("top",0))):($("#summtrans").hide(),$("#wordsframe").show(),$("#word-in").focus(),$("#word-in").trigger("input"),$("#video").css("top","-1000px"),y())}function C(e){if(!e)return e;var t=e.match(/(\w*)\s*?(的过去|的现在|的复数|的第三|的ing)/);return t?(t[1],e=e.replace(t[1],`<span style="text-decoration: underline;cursor:pointer;" onclick="translatee('${t[1]}')">${t[1]}</span>`)):e}document.onkeydown=function(e){var t=e||window.e,e=t.keyCode||t.which,t=(N=[]).pop();switch(null!=t&&null!=t&&N.push(t),e!=t&&N.push(e),console.log(N+" down"),N.join()){case"27":$("#summtrans").hide(),$("#summtrans-word").text(""),$("#summtrans-phonetic").text("").hide(),$("#summtrans-speak").attr("play-url","").hide(),$("#summtrans-value").hide(),$("#summtrans-vv").text(""),$("#wordsframe").hide(),$("#word-in").val(""),$("#words .word").remove(),$("#video").css("top",0);break;case"32":if(document.activeElement==$("#word-in")[0])return;$("#video")[0].paused?(X(),I()):y();break;case"13":F();break;case"97":case"65":if(document.activeElement==$("#word-in")[0])return;b();break;case"115":case"83":if(document.activeElement==$("#word-in")[0])return;v();break;case"119":case"87":if(document.activeElement==$("#word-in")[0])return;($(".chDialog").is(":hidden")?_:X)();break;case"100":case"68":if(document.activeElement==$("#word-in")[0])return;w();break;case"113":case"81":if(document.activeElement==$("#word-in")[0])return;D<=1?D=u.currentwords.length:D--,E(D);break;case"101":case"69":if(document.activeElement==$("#word-in")[0])return;E(D=++D>u.currentwords.length?1:D)}},document.onkeyup=function(e){console.log(N+" up"),N.pop()},document.onfocus=function(){console.log("document.blur()"),N=[]},window.onbeforeunload=function(){console.log("onbeforeunload"),navigator.sendBeacon("/mumu/page-out")},document.addEventListener("tou  chend",function(e){var t=(new Date).getTime();t-V<=300&&e.preventDefault(),V=t},!1),O(),$(document.body).bind("resize",function(){O()}),$.get("/mumu/wxjsapiticket",e=>{$.get("/mumu/wxsign",{ticket:e.data.ticket,url:location.href},e=>{console.log(JSON.stringify(e)),wx.config({debug:!1,appId:e.data.appid,timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,signature:e.data.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData"]})})}),wx.ready(function(){wx.updateAppMessageShareData({title:s.name,desc:"renx.cc",link:location.href,imgUrl:location.origin+"/mumu/favicon.ico",success:function(){}}),wx.updateTimelineShareData({title:s.name,link:location.href,imgUrl:location.origin+"/mumu/favicon.ico",success:function(){}})}),$("#video").bind("play",function(){console.log("onplay: "+ ++a),console.log(" ct: "+$("#video")[0].currentTime+" st: "+(u.current&&u.current.startTime)+" et: "+(u.current&&u.current.endTime)+" "+(u.current&&u.current.enValue.substr(0,5))),$(".dialog").hide(),$("#summtrans").hide(),$("#summtrans-word").text(""),$("#wordsframe").hide(),$("#word-in").val(""),$("#summtrans-value").hide(),$("#summtrans-vv").text(""),$("#summtrans-phonetic").text("").hide(""),$("#summtrans-speak").attr("play-src","").hide(""),$("#video").css("top","0px"),clearInterval(u.monitor),u.monitor=setInterval(function(){g(1e3*m.currentTime)},10),D=0,$("#zh_subtitles span").css({background:"transparent",color:"black"}),$(".startFn").css({display:"none"}),$(".stopFn").css({display:"inline"}),$(".dialog").css({display:"none"}),$(".dialogTitle #kw").html(""),$(".searchClass").val(""),$(".yibiao").html(""),$(".fanyi").html("")}).bind("pause",function(){console.log("onpause: "+ ++a),console.log(" ct: "+$("#video")[0].currentTime+" st: "+(u.current&&u.current.startTime)+" et: "+(u.current&&u.current.endTime)+" "+(u.current&&u.current.enValue.substr(0,5))),clearInterval(u.monitor),$(".stopFn").css({display:"none"}),$(".startFn").css({display:"inline"})}).bind("mouseover",function(){$("#video").attr("controls",!0)}).bind("mouseout",function(){$("#video").attr("controls",!1)}).bind("canplay",function(){p()}).bind("durationchange",function(){console.log("ondurationchange: "+ ++a),console.log(" ct: "+$("#video")[0].currentTime+" st: "+(u.current&&u.current.startTime)+" et: "+(u.current&&u.current.endTime)+" "+(u.current&&u.current.enValue.substr(0,5)))}).bind("loadeddata",function(){console.log("onloadeddata: "+ ++a),console.log(" ct: "+$("#video")[0].currentTime+" st: "+(u.current&&u.current.startTime)+" et: "+(u.current&&u.current.endTime)+" "+(u.current&&u.current.enValue.substr(0,5)))}).bind("loadstart",function(){console.log("onloadstart: "+ ++a),console.log(" ct: "+$("#video")[0].currentTime+" st: "+(u.current&&u.current.startTime)+" et: "+(u.current&&u.current.endTime)+" "+(u.current&&u.current.enValue.substr(0,5)))}).bind("playing",function(){console.log("onplaying: "+ ++a),console.log(" ct: "+$("#video")[0].currentTime+" st: "+(u.current&&u.current.startTime)+" et: "+(u.current&&u.current.endTime)+" "+(u.current&&u.current.enValue.substr(0,5)))}).bind("progress",function(){console.log("onprogress: "+ ++a),console.log(" ct: "+$("#video")[0].currentTime+" st: "+(u.current&&u.current.startTime)+" et: "+(u.current&&u.current.endTime)+" "+(u.current&&u.current.enValue.substr(0,5)))}).bind("readystatechange",function(){console.log("onreadystatechange: "+ ++a),console.log(" ct: "+$("#video")[0].currentTime+" st: "+(u.current&&u.current.startTime)+" et: "+(u.current&&u.current.endTime)+" "+(u.current&&u.current.enValue.substr(0,5)))}).bind("suspend",function(){console.log("onsuspend: "+ ++a),console.log(" ct: "+$("#video")[0].currentTime+" st: "+(u.current&&u.current.startTime)+" et: "+(u.current&&u.current.endTime)+" "+(u.current&&u.current.enValue.substr(0,5)))}).bind("timeupdate",function(){h()}).bind("waiting",function(){console.log("onwaiting: "+ ++a),console.log(" ct: "+$("#video")[0].currentTime+" st: "+(u.current&&u.current.startTime)+" et: "+(u.current&&u.current.endTime)+" "+(u.current&&u.current.enValue.substr(0,5)))}).bind("click",function(){console.log("onclick: "+ ++a),console.log(" ct: "+$("#video")[0].currentTime+" st: "+(u.current&&u.current.startTime)+" et: "+(u.current&&u.current.endTime)+" "+(u.current&&u.current.enValue.substr(0,5))),$("#video").attr("controls",!0)}).bind("loadedmetadata",function(){console.log("onloadedmetadata: "+ ++a),console.log(" ct: "+$("#video")[0].currentTime+" st: "+(u.current&&u.current.startTime)+" et: "+(u.current&&u.current.endTime)+" "+(u.current&&u.current.enValue.substr(0,5)))}).bind("touchend",function(){$("#video").attr("controls",!0)}).bind("focus",function(){$("#video").attr("controls",!0)}).bind("blur",function(){$("#video").attr("controls",!1)}),$("#summtrans-word").bind("click",function(){$("#summtrans").hide(),$("#wordsframe").show(),$("#word-in").val(this.innerText).focus(),$("#word-in").trigger("input")}),$("#summtrans-speak").bind("click",function(){this.audio||(this.audio=new Audio),this.audio.src=$(this).attr("play-url"),this.audio.play()}),$("#wordtempl").bind("click",function(){$("#wordsframe").hide(),$("#word-in").val(""),$("#words .word").remove(),k(this.item.q),x(this.item.q),T(this.item.q)}),$("#word-in").bind("input",function(){var t=this,n=this.value;n?$.ajax({url:"/mumu/words",method:"get",data:{kw:n,start:1,pageSize:10,from:s.language,to:2},success:function(e){t.value==n&&($("#words .word").remove(),e=e.data.words,$(e).each((e,t)=>{var n=$("#wordtempl").clone(!0);n[0].item=t,n.attr("id","word"+(e+1)),n.addClass("word"),n.html(t.q+"&nbsp;&nbsp;"+(t.phonetic?"/"+t.phonetic+"/":"")+"&nbsp;&nbsp;"+(t.explain1||"")+(t.explain2?" | ":"")+(t.explain2||"")+(t.explain3?" | ":"")+(t.explain3||"")+(t.explain4?" | ":"")+(t.explain4||"")+(t.explain5?" | ":"")+(t.explain5||"")),$("#words").append(n),n.show()}))}}):$("#words .word").remove()}),$("#zh_subtitles").bind("touchstart",function(e){var t;_coordinates={clientX:(t=e).changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,pageX:t.changedTouches[0].pageX,pageY:t.changedTouches[0].pageY},z(_coordinates),e.preventDefault()}).bind("touchmove",function(e){var t;_coordinates={clientX:(t=e).changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,pageX:t.changedTouches[0].pageX,pageY:t.changedTouches[0].pageY},L(_coordinates),e.preventDefault()}).bind("touchend",function(e){var t;_coordinates={clientX:(t=e).changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,pageX:t.changedTouches[0].pageX,pageY:t.changedTouches[0].pageY},S(_coordinates),e.preventDefault()}),$("#startFn").bind("click",function(){I(),$("#video").attr("controls",!1)}),$("#stopFn").bind("click",function(){y(),$("#video").attr("controls",!1)}),$("#prevline").bind("click",function(){b()}),$("#currline").bind("click",function(){v()}),$("#nextline").bind("click",function(){w()}),$("#gear").bind("touchstart",function(e){e=e.targetTouches[0];this.startX=e.pageX,this.startY=e.pageY,y()}).bind("touchmove",function(e){var t=e.targetTouches[0];this.endX=t.pageX,this.endY=t.pageY;var n=this.endX-this.startX;this.endY,this.startY;console.log("distanceX: "+n+" lastDist: "+this.lastDist),null!=this.lastDist&&null!=this.lastDist||(this.lastDist=n);t=n-this.lastDist;this.lastDist=n;n=parseInt(this.style.left.replace("px"))+t;n<=0&&-4900<=n&&(this.style.left=n+"px"),this.xx||(this.xx=0),this.xx=this.xx+t;t=null;30<this.xx?(t=D,t++):this.xx<-30&&(t=D,t--),null!=t&&(E(t=(t=t<1?u.currentwords.length:t)>u.currentwords.length?1:t),this.xx=0),e.preventDefault()}).bind("touchend",function(e){this.lastDist=null,this.xx=0}),$("#replay").bind("click",function(e){$("#video")[0].currentTime=0,u.currentIndex=0,u.current=u.subtitlesList[0],v(),I()}),$("#hideBtn").bind("click",function(e){console.log($("#zh_subtitles").css("opacity")),1==$("#zh_subtitles").css("opacity")?($("#zh_subtitles").css("opacity",0),$("#hideBtn").text("SHOW")):($("#zh_subtitles").css("opacity",1),$("#hideBtn").text("HIDE"))}),$("#wholebtn").bind("click",function(e){_()}),$("#searchbtn").bind("click",function(e){F()}),$("#chDialog").bind("click",function(e){X()})}();